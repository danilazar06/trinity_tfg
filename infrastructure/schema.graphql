# Trinity MVP - GraphQL Schema simplificado seg√∫n mega prompt

type Room {
  id: ID!
  status: String
  resultMovieId: String
  hostId: String
}

type Movie {
  id: ID!
  title: String
  poster: String
  overview: String
}

type Query {
  getMovies(genre: String): [Movie]           # DataSource: MovieHandler
  getChatRecommendations(text: String!): [String] # DataSource: AIHandler
  getMyHistory: [Room]                        # DataSource: RoomHandler
}

type Mutation {
  createRoom: Room                            # DataSource: RoomHandler
  joinRoom(roomId: ID!): Room                 # DataSource: RoomHandler
  vote(roomId: ID!, movieId: ID!): Room       # DataSource: VoteHandler
}

type Subscription {
  onRoomUpdated(roomId: ID!): Room
  @aws_subscribe(mutations: ["vote", "joinRoom"])
}

schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}